{% extends parent_template|default:"base.html" %}

{% block title %}
{{ block.super }} - Covid
{% endblock %}


{% block content %}
    <div class="container">
        <!-- Example single danger button -->
        <br>
        <div class="btn-group">
            <button type="button" class="btn btn-danger dropdown-toggle" 
                    data-toggle="dropdown" aria-haspopup="true" 
                    aria-expanded="false"
                    onChange="myfunction(this)">
                Select State
            </button>
            <div class="dropdown-menu" id="state-select">
                {% for row, index in data.iterrows %}
                    <a class="dropdown-item" value= "{{ index.state }}" 
                        href="#">{{ index.state }}</a>
                {% endfor %}
            </div>
        </div>
        <br>
        <br>
        <div style="overflow-x:auto;">
        <table class="table table-striped table-hover">
            <thead class="thead-dark">
                {% for header in data.columns %}
                <th class="th">
                    {{ header }}
                </th>
                {% endfor %}
            </thead>
            <tbody class="tbody">
                {% for row, index in data.iterrows %}
                <tr class="tr">
                    <td class="td">
                        {{ index.date }}
                    </td>
                    <td class="td">
                        {{ index.state }}
                    </td>
                    <td class="td">
                        {{ index.positive }}
                    </td>
                    <td class="td">
                        {{ index.negative }}
                    </td>
                    <td class="td">
                        {{ index.pending }}
                    </td>
                    <td class="td">
                        {{ index.hospitalizedCurrently }}
                    </td>
                    <td class="td">
                        {{ index.hospitalizedCumulative }}
                    </td>
                    <td class="td">
                        {{ index.inIcuCurrently }}
                    </td>
                    <td class="td">
                        {{ index.inIcuCumulative }}
                    </td>
                    <td class="td">
                        {{ index.onVentilatorCurrently }}
                    </td>
                    <td class="td">
                        {{ index.onVentilatorCumulative }}
                    </td>
                    <td class="td">
                        {{ index.recovered }}
                    </td>
                    <td class="td">
                        {{ index.dataQualityGrade }}
                    </td>
                    <td class="td">
                        {{ index.lastUpdateEt }}
                    </td>
                    <td class="td">
                        {{ index.hash }}
                    </td>
                    <td class="td">
                        {{ index.dateChecked }}
                    </td>
                    <td class="td">
                        {{ index.death }}
                    </td>
                    <td class="td">
                        {{ index.hospitalized }}
                    </td>
                    <td class="td">
                        {{ index.total }}
                    </td>
                    <td class="td">
                        {{ index.totalTestResults }}
                    </td>
                    <td class="td">
                        {{ index.posNeg }}
                    </td>
                    <td class="td">
                        {{ index.fips }}
                    </td>
                    <td class="td">
                        {{ index.deathIncrease }}
                    </td>
                    <td class="td">
                        {{ index.hospitalizedIncrease }}
                    </td>
                    <td class="td">
                        {{ index.negativeIncrease }}
                    </td>
                    <td class="td">
                        {{ index.positiveIncrease }}
                    </td>
                    <td class="td">
                        {{ index.totalTestResultsIncrease }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        </div>
    </div>
    <script>
        function myfunction() {
            document.getElementById("select-state").value = this.value;
            console.log(state);
            console.log("test");
        }
    </script>
{% endblock %}