{% extends parent_template|default:"base.html" %}

{% block title %}
{{ block.super }} - Covid
{% endblock %}


{% block content %}
    <div class="container">
        <!-- Example single danger button -->
        <br>
        <div class="btn-group">
            <select type="select" id="select-state" class="btn btn-danger dropdown-toggle"
                    onchange="myfunction()">
                {% for row, index in data.iterrows %}
                <option class="dropdown-item" value= "{{ index.state }}" >
                    {{ index.state }}
                </option>
                {% endfor %}
            </select>
        </div>
        <br>
        <br>
        <div style="overflow-x:auto;">
        <table class="table table-striped table-hover">
            <thead class="thead-dark">
                {% for header in data.columns %}
                <th class="th">
                    {{ header }}
                </th>
                {% endfor %}
            </thead>
            <tbody class="tbody">
                {% for row, index in data.iterrows %}
                <tr class="tr">
                    <td class="td">
                        {{ index.date }}
                    </td>
                    <td class="td">
                        {{ index.state }}
                    </td>
                    <td class="td">
                        {{ index.positive }}
                    </td>
                    <td class="td">
                        {{ index.negative }}
                    </td>
                    <td class="td">
                        {{ index.pending }}
                    </td>
                    <td class="td">
                        {{ index.hospitalizedCurrently }}
                    </td>
                    <td class="td">
                        {{ index.hospitalizedCumulative }}
                    </td>
                    <td class="td">
                        {{ index.inIcuCurrently }}
                    </td>
                    <td class="td">
                        {{ index.inIcuCumulative }}
                    </td>
                    <td class="td">
                        {{ index.onVentilatorCurrently }}
                    </td>
                    <td class="td">
                        {{ index.onVentilatorCumulative }}
                    </td>
                    <td class="td">
                        {{ index.recovered }}
                    </td>
                    <td class="td">
                        {{ index.dataQualityGrade }}
                    </td>
                    <td class="td">
                        {{ index.lastUpdateEt }}
                    </td>
                    <td class="td">
                        {{ index.hash }}
                    </td>
                    <td class="td">
                        {{ index.dateChecked }}
                    </td>
                    <td class="td">
                        {{ index.death }}
                    </td>
                    <td class="td">
                        {{ index.hospitalized }}
                    </td>
                    <td class="td">
                        {{ index.total }}
                    </td>
                    <td class="td">
                        {{ index.totalTestResults }}
                    </td>
                    <td class="td">
                        {{ index.posNeg }}
                    </td>
                    <td class="td">
                        {{ index.fips }}
                    </td>
                    <td class="td">
                        {{ index.deathIncrease }}
                    </td>
                    <td class="td">
                        {{ index.hospitalizedIncrease }}
                    </td>
                    <td class="td">
                        {{ index.negativeIncrease }}
                    </td>
                    <td class="td">
                        {{ index.positiveIncrease }}
                    </td>
                    <td class="td">
                        {{ index.totalTestResultsIncrease }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        </div>
    </div>
    <script>
        function myfunction() {
            var state_select = document.getElementById("select-state").value;
            console.log(state_select);
        }
    </script>
{% endblock %}